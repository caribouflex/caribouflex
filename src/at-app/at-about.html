<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../components/mix-letter.html">
<link rel="import" href="../components/draw-map.html">


<dom-module id="at-about">
    <template>
        <style>
            :host {
                display: block;
            }

            .layoutHorizontal {
                @apply --layout-horizontal;
                margin: auto;
            }

            #background {
                display: block;
                background-color: black;
                top: 50px;
                height: 140px;
                left: 256px;
                padding-left: 6vmax;
                z-index: 1000;
                position: fixed;
                width: 315px;
            }

            .section {
                max-width: 600px;
                margin: 150px 20px 50px 65px;
                background-color: #fff;
                min-height: 600px;
            }

            .section p {
                line-height: 1.6;
                font-size: 18px;
            }

            @media only screen and (max-width: 641px) {
                .section {
                    margin: 150px 20px 50px 20px;
                }
                #background {
                    left: 0;
                }
                .wordMove {
                    left: 15px;
                }
            }

            /*SECTION SCHOLARSHIP*/

            .schoolImg {
                position: relative;
                width: 150px;
                height: 150px;
                min-width: 150px;
                min-height: 150px;
                border-radius: 75px;
                margin: 0 15px;
            }

            .schoolImg img {
                position: absolute;
                margin: auto;
                top: 0;
                width: 100px;
                max-height: 100px;
                left: 0;
                bottom: 0;
                right: 0;
            }

            #etsImgGroup {
                background-color: #e82233;
            }

            #staffordImgGroup {
                background-color: #d70926;
            }

            #esigetelImgGroup {
                background-color: #000;
            }



            /*SECTION HOBBIES*/

            .soccer {
                background: url(http://upload.wikimedia.org/wikipedia/en/e/ec/Soccer_ball.svg);
                background-size: 100px 100px;
                height: 100px;
                width: 100px;
                position: relative;
                -webkit-animation: roll 4.5s infinite;
                -moz-animation: roll 4.5s infinite;
                animation: roll 4.5s infinite;
            }

            @-moz-keyframes roll {
                0% {
                    left: 0px;
                    -webkit-transform: rotate(-360deg);
                }
                50% {
                    left: 80%;
                    -webkit-transform: rotate(360deg);
                }
                100% {
                    left: 0px;
                    -webkit-transform: rotate(-360deg);
                }
            }

            @-webkit-keyframes roll {
                0% {
                    left: 0px;
                    -webkit-transform: rotate(-360deg);
                }
                50% {
                    left: 80%;
                    -webkit-transform: rotate(360deg);
                }
                100% {
                    left: 0px;
                    -webkit-transform: rotate(-360deg);
                }
            }

            @keyframes roll {
                0% {
                    left: 0px;
                    -webkit-transform: rotate(-360deg);
                }
                50% {
                    left: 80%;
                    -webkit-transform: rotate(360deg);
                }
                100% {
                    left: 0px;
                    -webkit-transform: rotate(-360deg);
                }
            }

            .world-cup {
                color: #82AE6F;
                text-align: center;
            }

            .soccerImg {
                width: 50px;
                height: 50px;
                margin: 0 10px;
            }

            /*WORK SECTION*/

            .companyTitle {
                width: 100%;
                height: 100px;
                text-align: center;
            }
        </style>
        <div id="background"></div>
        <div class="divContent">
            <mix-letter class="wordMove" word="About"></mix-letter>
            <section id="aboutSection" class="section">
                <h1>Hi, I'm Arthur. üëã</h1>
                <p>Well, I don't have a lot to say about me. I'm a French guy living in Montreal (Canada.. I have to be precise
                    because apparently some people don't really know where Montr√©al is on a map. Click
                    <a href="#" on-click="_showMap">here</a> for more detail)</p>

                <draw-map hidden$="{{hiddenMap}}"></draw-map>

                <p>I'm originaly from Paris ‚úà, well the purists will say BooooooOOooO.. Because if I tell you where I'm really
                    from you will be like.. üòï (next to Disneyland Resort Paris üêÅ and yes it's a mouse like Mickey)</p>

                <p>I'm a web developer, frontend/backend ; I really don't know yet where is my destiny is because I like both
                    but maybe my heart tends to go towards the frontend a little more. I currently work at
                    <a href="http://www.distech-controls.com" target="_blank">Distech Controls</a> for at least 4 years now. (Long time huh..). They specialize in building automation,
                    so none of my work is visible except for the tech guy who is installing product in the ceiling. </p>

                <p>I work on polymer most of the time for the frontend, and the backend is more with basic Java servlet.</p>

                <p>In my free time, and when in a coding mood, I like to try new stuff, discover new languages, new framework,
                    create stuff that may be useless or useful. Here is my GITHUB
                    <a href="https://github.com/caribouflex" target="_blank">repo.</a>
                </p>

                <p>I'm also a big soccer fan! France is my national team (my heart remains there üá´üá∑) and RCLens is my heart
                    team, but otherwise I like Juventus, Chelsea and PSG.</p>

                <p>Well it's a pretty nice resum√©.</p>

                <p>Thanks for reading ! Peace ‚úå </p>
            </section>
        </div>
        <div class="divContent">
            <mix-letter class="wordMove" word="Work"></mix-letter>
            <section class="section">
                <div class="companyTitle">
                    <img width="100" src="/images/distech-controls.png" alt="distech-controls">
                </div>
                <h2>Distech Controls - February 2014 -> Now</h2>
                <p>
                    Distech controls is a building automation company, recently bought by the american group Acuity Brands (Lighting company).
                    A brief description of my tasks :
                </p>
                <p>
                    Developpement, maintenance, improvement and evolution of an embedded web solution frontend/backend, hosted on a jetty server,
                    inside a controller running with the Android operating system.
                </p>
                <p>
                    Full creation and in constant evolution of a RESTful API optimised. (JAVA, JAVA Servlet, Jetty).
                </p>
                <p>
                    Creation of a progressiv web application, including the evaluation and the choices of the technologies and architechture
                    that allow a better development, maintenance and enboarding of new developer. (Javascript, html5, css3,
                    Polymer, Web Components) Then Polymer stayed the major "Framework" used inside the company for the other
                    project.
                </p>
                <p>
                    Creation of the Rest API documentation web site. (ASP.net, html5, css3, Bootstrap).
                </p>
                <p>
                    Use the Agile development methodology to meet product development and testing schedules.
                </p>
            </section>
        </div>
        <div class="divContent">
            <mix-letter class="wordMove" word="Scholarship"></mix-letter>
            <section class="section">
                <div class="layoutHorizontal">
                    <div id="esigetelImgGroup" class="schoolImg">
                        <img src="/images/logo-esigetel.png" alt="esigetel">
                    </div>
                    <div id="staffordImgGroup" class="schoolImg">
                        <img src="/images/staffordshire-university.png" alt="staffordshire-university">
                    </div>
                    <div id="etsImgGroup" class="schoolImg">
                        <img src="/images/ets.jpg" alt="ets">
                    </div>
                </div>
                <h2>
                    <a href="http://www.esigetel.fr" target="_blank">ESIGETEL</a>
                </h2>
                <p>
                    I graduated from
                    <a href="http://www.esigetel.fr" target="_blank">ESIGETEL</a> where I did most of my "high end" scholarship.
                    <a href="http://www.esigetel.fr" target="_blank">ESIGETEL</a> is a french engineering school, located in Paris. My training there was more oriented to
                    cloud programming. So briefly, it was coding, front-end/back-end with the emerging cloud technologies.
                </p>
                <h2>
                    <a href="http://www.staffs.ac.uk/" target="_blank">Stafforshire University</a>
                </h2>
                <p>
                    I did an exchange during my first year of engineering (2011) at
                    <a href="http://www.staffs.ac.uk/" target="_blank">Stafforshire University</a>. This University campus is located in Stoke-on-Trent, a little city between
                    Manchester and Birmingham in England.
                </p>
                <p>
                    It was a pretty nice experience, a little short though (4 months). Actually, it was my first experience abroad (for school).
                    Mostly scientific courses though, but still fun to interact with new people and discover new culture.
                </p>
                <p>
                    NO REGRETS ! üëå
                </p>
                <h2>
                    <a href="https://www.etsmtl.ca/" target="_blank">√âTS</a>
                </h2>
                <p>
                    During my second year of engineering school, I found that our school had a partnership with the
                    <a href="https://www.etsmtl.ca/" target="_blank">√âTS</a>, which is located in Montr√©al, CANADA.
                </p>
                <p>
                    O**, so excited, I totally had to go there and I did. So I spent 6 months at ETS, where I learned a lot ! All the courses
                    I took were mostly software development oriented. And I think it's the place where I learned the most
                    about coding, during my scholarship. (well The Internet was mostly the best place to learn !)
                </p>
                <p>
                    It was a tough six months though, because to get enough credits to match the requirements in France I had to take a few more
                    courses than the regular students. Anyway still fun, and look... I'm still in Montr√©al.
                </p>
                <p>
                    NO REGRETS ! üëå
                </p>
            </section>
        </div>
        <div class="divContent">
            <mix-letter class="wordMove" word="Hobbies"></mix-letter>
            <section class="section">
                <h2>Sports</h2>
                <div class="soccer"></div>
                <p>
                    Soccer is my first love in sport. I'm totally a soccer fan. I've played soccer since I was 6. Totally behind the french National
                    soccer team. Otherwise during the year I support these four soccer clubs.
                </p>
                <div style="text-align: center;">
                    <img class="soccerImg" src="/images/rclens.png" alt="rclent">
                    <img class="soccerImg" src="/images/paris-st-germain.jpg" alt="paris-st-germain">
                    <img class="soccerImg" src="/images/chelsea.png" alt="chelsea">
                    <img class="soccerImg" src="/images/juventus.png" alt="juventus">
                </div>

                <p>
                    I'm really a sports fan. I'm a very active person, and I can't go without doing something. So if I'm not playing soccer I
                    will go running, hiking, kayaking, snowboarding.. All the sports I can do. üòä
                </p>

                <h2>Coding</h2>

                <p>
                    Coding is something else that I like to do during my time off. There is a lot to discover on the Internet, like for the frontend
                    part we can't count how many framework and libraries exist (but it's for the best, or the worst..). That's
                    why I like to try new stuff to see what we can do with it, helping the community. Currently I'm more
                    focused on Web Components. I use
                    <a href="https://www.polymer-project.org/" target="_blank">Polymer</a> most of the time, I've tried React briefly. You can find my available components
                    <a href="https://www.webcomponents.org/author/caribouflex">here</a>. But sometimes, even if I like coding, you know when you did it all day at work, you just want
                    to go home and chill.. so it depends on the mood.

                </p>

                <h2>Travelling</h2>

                <p>
                    I like travelling. The world has so many things to offer and to submerge you in visual pleasure. I mostly traveled in Europe
                    and a little in North America. But I still have a lot to see.. it never ends ... ‚úà‚úà‚úà
                </p>

            </section>
        </div>
    </template>

    <script>
        /**
         * @customElement
         * @polymer
         */
        class AtAbout extends Polymer.Element {
            static get is() {
                return 'at-about';
            }
            static get properties() {
                return {
                    observer: Object,
                    current: {
                        type: Number,
                        value: -1
                    },

                    allEntries: {
                        type: Array,
                        value: function () {
                            return [];
                        }
                    },

                    sections: {
                        type: Array,
                        value: function () {
                            return [];
                        }
                    },

                    hiddenMap: {
                        type: Boolean,
                        value: true
                    }
                };
            }

            ready() {
                super.ready();
            }

            connectedCallback() {
                super.connectedCallback();
                this.sections = Array.from(this.shadowRoot.querySelectorAll('.divContent'));

                if ('IntersectionObserver' in window) {
                    document.body.classList.add('ioapi');

                    this.observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.intersectionRatio > 0.5) {
                                const newcurrent = this.sections.indexOf(entry.target);
                                if (newcurrent === this.current) return;
                                const direction = newcurrent > this.current;
                                if (this.current >= 0) {
                                    this.allEntries[this.current].exit(direction ? 'down' :
                                        'up');
                                }
                                this.allEntries[newcurrent].enter(direction ? 'down' : 'up');
                                this.current = newcurrent;
                            }
                        });
                    }, {
                        threshold: 0.5
                    });

                    this.allEntries = Array.from(this.shadowRoot.querySelectorAll('.wordMove'));
                    this.sections.forEach(section => {
                        //section.querySelector('.wordMove');
                        this.observer.observe(section);
                    });
                }
            }

            _showMap() {
                this.hiddenMap = false;
            }
        }

        window.customElements.define(AtAbout.is, AtAbout);
    </script>
</dom-module>